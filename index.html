<!--
 * @Description: 
 * @Autor: BY
 * @Date: 2023-05-16 17:55:20
 * @LastEditors: BY
 * @LastEditTime: 2023-05-17 09:17:31
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no,viewport-fit=cover">
    <base target="_blank" />
    <link rel="stylesheet" href="./css/style.css">
    <title>WebRTC + clmtrackr.js</title>
</head>

<body>
    <div class="webrtc-demo">
        <div class="video-wrapper">
            <!-- <video src="./test.mp4" id="localVideo" autoplay muted playsinline></video> -->
            <video id="localVideo" autoplay muted playsinline></video>

            <canvas id="webrtcCanvasScreenshot" ></canvas>
        </div>
    </div>

    <div class="webrtc-title">
        <h1><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API">WebRTC</a></h1>
        <h1>+</h1>
        <h1><a href="https://www.auduno.com/clmtrackr/docs/reference.html">clmtrackr.js</a></h1>
    </div>

    <button id="startRecord">音视频录制</button>
    <button id="startFaceDetect">人脸检测</button>

    <button class="aliveDetect" id="mouse">张嘴检测</button>
    <button class="aliveDetect" id="head">摇头检测</button>
    <button class="aliveDetect" id="eye">眨眼检测</button>

    <script src="./lib/vconsole.min.js"></script>
    <script>
        var logger = function (...args) {
            console.log('[logger]', args[0], '-->', ...args.slice(1, args.length));
        };
        new VConsole();
    </script>
    <!-- clmtrackr.js -->
    <script src="./lib/model_pca_20_svm.js"></script>
    <script src="./lib/clmtrackr.js"></script>
    <!-- polyfill -->
    <script src="./utils/polyfill.js"></script>
    <!-- 调用webrtc -->
    <script src="./js/webrtc.js"></script>
    <!-- 本地录制 -->
    <script src="./js/record.js"></script>
    <!-- 人脸检测 -->
    <script src="./js/face-detect.js"></script>
    <!-- 动作检测 -->
    <script src="./js/alive-detect.js"></script>
    <!-- <script>
          const video = document.getElementById('localVideo');
          const canvas = document.getElementById('webrtcCanvasScreenshot');
          const canvasCtx = canvas.getContext('2d');
          const width = screen.width
          const height = screen.height
          canvas.width = width;
          canvas.height = height;
          setTimeout(() => {
          canvasCtx.drawImage(video,0,0,width,height,0,0,width,height,);
          const MIME_TYPE = 'image/png'; // 保存文件类型
          const imgURL = canvas.toDataURL(MIME_TYPE);
          console.log(imgURL);
          }, 500);
    </script> -->
</body>

</html>